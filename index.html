<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="../assets/css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <title>Document</title>
</head>

<body>
  <div class="mainz">
    <div class="main-left">
      <div class="container ">
        <div class="d-flex align-items-center justify-content-between">
          <a href="index.html" class="logo d-flex align-items-center">
            <img src="assets/img/logo.png" alt="">
            <span class="d-none d-lg-block">Eyebey</span>
          </a>
        </div>
        <h1 class="login_head">Admin Login</h1>
        <div class="form_container">
          <!-- Login form with an id for JavaScript targeting -->
          <form id="loginForm"  style="width: 250px;">
            <br />
            <label for="email" class="radiant_label">Email</label>
            <input type="email" id="email" name="email" class="radiant_input" placeholder="Email">
            <br /><br />
            <label for="password" class="radiant_label">Password</label>
            <div class="password-container">
              <input type="password" id="password" name="password" class="radiant_input" placeholder="Password">
              <span id="togglePassword" class="toggle-password">
                <i class="fas fa-eye"></i>
              </span>
            </div>
            <br />
            <!-- Error message display -->
            <span id="errorMessage" style="color: red;"></span>
            <br />
            <button type="submit" class="log_in_btn">LOG IN</button>
          </form>
        </div>
      </div>
    </div>

    <div class="main-right" id="main-right">
      <div class="slider" id="slider">
        <div class="slides" id="slides">
          <!-- Single slide example -->
          <div class="slide" style="background-image: url('https://husandhem.co.uk/cdn/shop/files/48487.jpg?v=1726350980&width=1000');"></div>
        </div>
      </div>
      <div class="right_container">
        <h2>Login To </h2>
        <br/>
        <h1 class="my-5">Eyebey-<span class="heading_active">Optics</span></h1>
        <br/>
        <p><i>"Eyebey: Streamlining Your Point of Sale, One Dashboard at a Time"</i></p>
      </div>
    </div>
  </div>

  <script>
    // Prevent default gesture behavior on mobile devices
    document.addEventListener('gesturestart', function (e) {
      e.preventDefault();
    });
    document.addEventListener('gesturechange', function (e) {
      e.preventDefault();
    });
    document.addEventListener('gestureend', function (e) {
      e.preventDefault();
    });

    // Toggle password visibility
    document.getElementById('togglePassword').addEventListener('click', function () {
      const passwordField = document.getElementById('password');
      const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
      passwordField.setAttribute('type', type);

      const icon = this.querySelector('i');
      if (type === 'password') {
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
      } else {
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
      }
    });

    // Login form submission logic
    document.getElementById('loginForm').addEventListener('submit', function (e) {
      e.preventDefault(); // Prevent default form submission
      
      // Retrieve the entered email and password
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value;
      
      // Dummy credentials
      const dummyEmail = "admin@example.com";
      const dummyPass = "password123";
      
      // Check if the entered credentials match the dummy ones
      if (email === dummyEmail && password === dummyPass) {
        // Store the logged-in user's email in local storage
        localStorage.setItem('loggedInUser', email);
        
        // Redirect to dashboard.html
        window.location.href = "dashboard.html";
      } else {
        // Store the attempted values in local storage
        localStorage.setItem('attemptedEmail', email);
        localStorage.setItem('attemptedPassword', password);
        
        // Display an error message
        document.getElementById('errorMessage').innerText = "Invalid email or password. Please try again.";
      }
    });

    // Slider functionality (if more slides are added)
    const slides = document.querySelectorAll('.slide');
    let currentIndex = 0;
    function showNextSlide() {
      slides[currentIndex].classList.remove('active');
      currentIndex = (currentIndex + 1) % slides.length;
      slides[currentIndex].classList.add('active');
    }
    setInterval(showNextSlide, 5000);
    
    // Initial display of the first slide
    if (slides.length > 0) {
      slides[currentIndex].classList.add('active');
    }
  </script>
</body>

</html>
